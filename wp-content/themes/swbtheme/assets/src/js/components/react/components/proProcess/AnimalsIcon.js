import React, { Component } from "react";
import ScrollMagic from "scrollmagic";
import "animation.gsap";
import "debug.addIndicators";
import { TweenMax } from "TweenMax";

class AnimalsIcon extends Component {
  constructor(props) {
    super(props);
    this.animateTheOutline = this.animateTheOutline.bind(this);
    this.state = {
      animatingTheIconComplete: false
    };
  }

  componentDidUpdate(prevProps, prevState) {
    if (this.props.animating && !this.state.animatingTheIconComplete) {
      this.animateTheOutline();
    }
  }

  animateTheOutline() {
    this.setState(prevState => {
      return {
        animatingTheIconComplete: !prevState.animatingTheIconComplete
      };
    });

    const iconContainer = document.querySelector(".np-pro-icon-anim");
    const path = iconContainer.querySelector(".np-pro-outline circle");
    const anim = iconContainer.querySelector(".np-pro-anim");

    const outlineTL = new TimelineMax({
      delay: 0.5
    });
    outlineTL
      .fromTo(
        path,
        1,
        {
          strokeDasharray: "755",
          strokeDashoffset: "755"
        },
        {
          strokeDashoffset: "0"
        }
      )
      .fromTo(anim, 0.5, { autoAlpha: 0 }, { autoAlpha: 1 });
  }

  render() {
    return (
      <div className="np-pro-icon-anim">
        <svg
          id="Layer_1"
          data-name="Layer 1"
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 250 250"
        >
          <defs />
          <g className="np-pro-outline">
            <circle className="cls-1" cx="125" cy="125" r="120" />
          </g>
          <g className="np-pro-anim">
            <path
              className="cls-2"
              d="M202.81,149h-.24a30.75,30.75,0,0,1-17.44-6.1c-5.26-3.87-8.83-9-9.79-14.07l-.14-.7,3-1.21-3.18-.75v-.69c0-.55,0-1.35.08-1.67a26.31,26.31,0,0,1,.53-4.07l.14-.67,3.63-.1-3-2.36.21-.58a21.59,21.59,0,0,1,2.71-5.34l.44-.62,3,1.55-1.62-3.1.48-.45a15.91,15.91,0,0,1,4.58-3l.46-.2.4.29a14.47,14.47,0,0,1,3.67,4.69c1.55,2.86,3.39,7.84,3.52,15.45h7.68a25.15,25.15,0,0,1,1.06-6.53c1.49-4.86,4.37-8.31,8.38-10-.33-.61-.62-1.25-.68-1.38-.74-1.91-.89-3.72-.39-4.74a1.63,1.63,0,0,1,1-.9,2.55,2.55,0,0,1,2.56,1.15c.39-1.45,1.09-2.61,2.22-2.61s2,1.39,2.35,3.19c.94-1.08,2-1.72,3-1.34,1.5.59,1.2,2.82.83,4.45-.2.89-.46,1.75-.65,2.33l7.71,3.5-6,2a5,5,0,0,1,.7,2.07,3.51,3.51,0,0,1-1,3l0,0a3.64,3.64,0,0,1-4.22.48A96.65,96.65,0,0,1,219.92,130C219.92,140.46,212.24,149,202.81,149Zm-25.62-19.8c1.07,4.42,4.31,8.87,9,12.3a29,29,0,0,0,16.43,5.76h.22c8.48,0,15.38-7.72,15.38-17.21,0-3-1.42-11.8-1.44-11.89l-.46-2.84,2,2.12c.08.08,2,2.11,3.6.73a1.81,1.81,0,0,0,.47-1.54,3.63,3.63,0,0,0-1-2.09l-.93-1,4.25-1.45-5.18-2.36.28-.75a24.4,24.4,0,0,0,.77-2.53,5.83,5.83,0,0,0,.27-2.77,5.68,5.68,0,0,0-2.17,2.63L217,109.58v-3.7a7,7,0,0,0-.84-3.91,6.21,6.21,0,0,0-.83,3.25l-.18,3.38-1.47-3a4.75,4.75,0,0,0-1.78-2.25,5.42,5.42,0,0,0,.47,3.33,15.49,15.49,0,0,0,1,1.94l.68,1-1.1.38c-4,1.4-6.81,4.52-8.27,9.29a23.4,23.4,0,0,0-1,6.86l0,.9H192.53v-.87c0-7.67-1.77-12.59-3.25-15.38a15.22,15.22,0,0,0-2.86-3.91,13.73,13.73,0,0,0-3.11,2l3.57,6.84-6.52-3.41a20.39,20.39,0,0,0-1.85,3.71l5.69,4.54-7,.19a22.57,22.57,0,0,0-.36,3.12v.07c0,.14,0,.49-.06.85l7.1,1.68Z"
            />
            <rect
              className="cls-2"
              x="196.44"
              y="146.72"
              width="1.74"
              height="9.26"
              transform="rotate(-24.48 197.319 151.355)"
            />
            <path
              className="cls-2"
              d="M206.27,158.77a16.89,16.89,0,0,0-8.9-2.2c-3.72,0-4.2,1.62-4.2,1.64l-1.7-.32c0-.13.63-3.06,5.9-3.06a18.4,18.4,0,0,1,9.88,2.5l-1,1.43.49-.71Z"
            />
            <path
              className="cls-2"
              d="M209.2,155.57a13.81,13.81,0,0,0-8.8-2.17l-.1-1.73a15.28,15.28,0,0,1,10,2.53Z"
            />
            <rect
              className="cls-2"
              x="201.15"
              y="147.85"
              width="1.74"
              height="4.85"
              transform="rotate(-23.07 202.043 150.28)"
            />
            <path
              className="cls-2"
              d="M217.54,109.89a1.25,1.25,0,0,0,0,2.49,1.25,1.25,0,1,0,0-2.49Z"
            />
            <path
              className="cls-3"
              d="M133.32,194.26h-8.74l-1.13-11.73-3.82-6.67a40.5,40.5,0,0,1-26.5,2.86l1,15.54H85.39l-.93-11.75-7.72-14a24.53,24.53,0,0,1-2.54-9.56,24.09,24.09,0,0,1,7.18-16.41c5.74-5.69,14.08-8.58,24.81-8.58h.45a75.31,75.31,0,0,1,30.6,6.75,58.37,58.37,0,0,1,11.07,6.45l19.37,4.47-8.59,8.85,3.44,8.68,4.69,4.55-9.43,9.71-4.5-4.36a56.47,56.47,0,0,1-16.63-2.95l-4.89-1.66Zm-6-3h2.82l-1.65-21.15,9.17,3.1a53.22,53.22,0,0,0,16.31,2.81h.59l3.21,3.11,5.28-5.45-3-2.92-4.38-11.07,6.25-6.44L147,149.85l-.27-.22a54.09,54.09,0,0,0-10.8-6.31,72.37,72.37,0,0,0-29.29-6.43c-10.12-.09-17.9,2.52-23.14,7.72a21,21,0,0,0-6.29,14.29,21.92,21.92,0,0,0,2.15,8.1v0l8,14.62.76,9.65H91l-1.06-16.61,2.06.63c12,3.67,22.43-.12,27.62-2.72l1.26-.62,5.52,9.64Z"
            />
            <path
              className="cls-3"
              d="M152,163.44a2.23,2.23,0,1,0,2.23,2.23A2.23,2.23,0,0,0,152,163.44Z"
            />
            <path
              className="cls-3"
              d="M68.63,163.39a6.31,6.31,0,0,1-4.06-1.73l1.93-2.26a3.43,3.43,0,0,0,2.18,1,6.42,6.42,0,0,1-1.94-5.61,4,4,0,0,1,2.51-3.51,3.09,3.09,0,0,1,3.28,1.21,6,6,0,0,1,1.4,3.59,16.64,16.64,0,0,0,1.14-3l2.88.78c-.29,1.05-1.86,6.36-5,7.56a3.41,3.41,0,0,1-.72.2q-.13.17-.3.33A4.65,4.65,0,0,1,68.63,163.39ZM70,154.23a2.77,2.77,0,0,0-.39,1.54,3.3,3.3,0,0,0,1.09,2.5,4.22,4.22,0,0,0-.46-3.8A1.76,1.76,0,0,0,70,154.23Z"
            />
            <rect
              className="cls-2"
              x="86.53"
              y="103.32"
              width="4.03"
              height="3.77"
              transform="rotate(-4.94 88.596 105.2)"
            />
            <rect
              className="cls-2"
              x="77.34"
              y="103.53"
              width="3.15"
              height="4.03"
              transform="matrix(.22 -.98 .98 .22 -41.25 159.67)"
            />
            <path
              className="cls-2"
              d="M61,132.11l-2.21-21.46,0-.23,2.72-20.27-.43-19.77A11.32,11.32,0,0,1,72.48,58.8h81.75l15.69-7.17,11.54-.19-5,7.81,12.33,17.08-9.22,9-12-7.62-4.91,12.37a22.93,22.93,0,0,1-22.57,14.45l.71,27.16-10.65.38-3-29.49L81,95.2l-11.26,16,2.11,20.49Zm1.85-21.39,1.78,17.22,2.72-.1-1.83-17.7L79.13,90.82l51.79,8.31,2.93,28.81,2.88-.1L136,100l2.4.38A18.78,18.78,0,0,0,159,88.63l6.71-16.9,13.39,8.52,4.46-4.37L171.64,59.4l2.41-3.8-3.22,0L155.1,62.83H72.48a7.31,7.31,0,0,0-7.3,7.46l.43,20.09Z"
            />
            <path
              className="cls-2"
              d="M50.28,113.09l-.13-5a33.22,33.22,0,0,1,3.57-14.2c-.24-4.18,0-11.19.63-21.39A14.62,14.62,0,0,1,68.77,58.79h4v4h-4a10.7,10.7,0,0,0-10.39,10c-.68,10.34-.88,17.54-.6,21.4,0,.59.06,1.18.07,1.75.09,8.78-4,13.31-4.2,13.5Z"
            />
            <path
              className="cls-2"
              d="M170.4,64.06a2.27,2.27,0,1,0,2.27,2.27A2.27,2.27,0,0,0,170.4,64.06Z"
            />
            <path
              className="cls-2"
              d="M164.47,57.06A13.37,13.37,0,0,1,163.26,48l4,.75a9.42,9.42,0,0,0,.69,6.21Z"
            />
            <path
              className="cls-2"
              d="M83.08,106.39a13.67,13.67,0,0,1-9.91-4.28l2.93-2.77a9.52,9.52,0,0,0,7,3,9.66,9.66,0,0,0,9.37-7.49l3.93.88A13.71,13.71,0,0,1,83.08,106.39Z"
            />
          </g>
        </svg>
      </div>
    );
  }
}
export default AnimalsIcon;
